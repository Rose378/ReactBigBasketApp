{"ast":null,"code":"import React,{Fragment}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import Navbar from\"../navbar/Navbar\";import{useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class ProductAdmin extends React.Component{constructor(props){super(props);//get all rpoducts\nthis.getProducts=()=>{let dataUrl=\"http://127.0.0.1:5000/api/products/\";axios.get(dataUrl).then(res=>{console.log(res.data);this.setState({products:res.data,prodlength:this.state.products.length});}).catch(err=>{this.setState({errmsg:'error for loading data'});});};//delete\nthis.deleteProduct=prodId=>{let dataUrl=\"http://127.0.0.1:5000/api/products/\".concat(prodId);axios.delete(dataUrl).then(res=>{this.getProducts();}).catch(err=>{console.error(err);});};this.state={products:[],errmsg:'',prodlength:null};}componentDidMount(){this.getProducts();}render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{prodlength:this.state.prodlength}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4 animated zoomIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h3 text-success \",children:\"Products Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"hsdjs sdhfsjd sdjhfskdf fsjdgfs fshdfgs\"})]})}),/*#__PURE__*/_jsx(Link,{to:'/CreateProduct',className:\"btn btn-success btn-sm\",children:\"Create Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover table-striped text-center table-success\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-dark text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"s.no\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Info\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.products.length>0?/*#__PURE__*/_jsx(React.Fragment,{children:this.state.products.map(product=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id.substr(product._id.length-4)}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"image\",height:\"70\",width:\"70\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",product.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{children:[product.quantity,\" Kgs\"]}),/*#__PURE__*/_jsx(\"td\",{children:product.info}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/UpdateProduct/\".concat(product._id),className:\"btn btn-success btn-sm\",children:\"Update Product\"}),/*#__PURE__*/_jsx(Link,{to:'/ProductAdmin',className:\"btn btn-success btn-sm ml-3\",onClick:this.deleteProduct.bind(this,product._id),children:\"Delete\"})]})]});})}):/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"8\",className:\"text-danger\",children:\"-----------No Products Available-------------\"})})})})]})})})]})]});}}export default ProductAdmin;","map":{"version":3,"names":["React","Fragment","Link","axios","Navbar","useContext","jsx","_jsx","jsxs","_jsxs","ProductAdmin","Component","constructor","props","getProducts","dataUrl","get","then","res","console","log","data","setState","products","prodlength","state","length","catch","err","errmsg","deleteProduct","prodId","concat","delete","error","componentDidMount","render","children","className","to","map","product","_id","substr","name","src","image","alt","height","width","price","toFixed","quantity","info","onClick","bind","colSpan"],"sources":["/Users/suresh/Desktop/RoseMaryReactApps/ClientsideBIGBASKETapp/Products/bigbasketclientside/src/components/products/ProductAdmin.js"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Navbar from \"../navbar/Navbar\";\nimport { useContext } from \"react\";\nclass ProductAdmin extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            products:[],\n            errmsg:'',\n            prodlength:null\n        }\n    }\n\n    componentDidMount(){\n        this.getProducts()\n    \n    }\n\n    //get all rpoducts\n    getProducts = () => {\n        let dataUrl = `http://127.0.0.1:5000/api/products/`;\n    axios.get(dataUrl).then((res) => {\n        console.log(res.data)\n        this.setState({\n            products: res.data,\n            prodlength: this.state.products.length\n        })  \n\n    }).catch((err) => {\n        this.setState({\n            errmsg:'error for loading data'\n        })\n    })\n    }\n\n    //delete\n    deleteProduct = (prodId) => {\n        let dataUrl = `http://127.0.0.1:5000/api/products/${prodId}`;\n        axios.delete(dataUrl).then((res) => {\n            this.getProducts()\n        }).catch((err) => {\n            console.error(err)\n        })\n\n    }\n    render(){\n        return(\n            <Fragment>\n                <Navbar prodlength = {this.state.prodlength}/>\n                 <div className=\"container mt-4 animated zoomIn\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <p className=\"h3 text-success \">Products Admin</p>\n                            <p className=\"lead\">hsdjs sdhfsjd sdjhfskdf fsjdgfs fshdfgs</p>\n\n                        </div>\n                    </div>\n                    <Link to={'/CreateProduct'} className=\"btn btn-success btn-sm\">Create Product</Link>\n\n                    <div className=\"row \">\n                        <div className=\"col\">\n                            <table className=\"table table-hover table-striped text-center table-success\">\n                                <thead className=\"bg-dark text-white\">\n                                    <tr>\n                                    <th>s.no</th>\n                                    <th>Name</th>\n                                    <th>Image</th>\n                                    <th>Price</th>\n                                    <th>Quantity</th>\n                                    <th>Info</th>\n                                    <th>Actions</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                  {\n                                    this.state.products.length > 0 ? \n                                    <React.Fragment>\n                                        {\n                                            this.state.products.map((product) => {\n                                                return(\n                                                    <tr>\n                                                        <td>{product._id.substr(product._id.length - 4)}</td>\n                                                        <td>{product.name}</td>\n                                                        <td>\n                                                            <img src={product.image} alt=\"image\" height=\"70\" width=\"70\"/>\n                                                        </td>\n                                                        <td>&#8377;{product.price.toFixed(2)}</td>\n                                                        <td>{product.quantity} Kgs</td>\n                                                        <td>{product.info}</td>\n                                                        <td>\n                                                        <Link to={`/UpdateProduct/${product._id}`} className=\"btn btn-success btn-sm\">Update Product</Link>\n                                                        <Link to={'/ProductAdmin'} className=\"btn btn-success btn-sm ml-3\" onClick={this.deleteProduct.bind(this,product._id)}>Delete</Link>\n\n                                                        </td>\n                                                     \n                                                    </tr>\n                                                )\n                                            })\n                                        }\n                                    </React.Fragment> : \n\n                                    <React.Fragment>\n                                              <tr>\n                                            <td colSpan=\"8\" className=\"text-danger\">-----------No Products Available-------------</td>\n                                        </tr>\n                                    </React.Fragment>\n                                    \n            \n                                       \n                                  \n                                  }\n                                </tbody>\n                            </table>\n\n    \n                        </div>\n                    </div>\n                </div>\n            \n            </Fragment>\n           \n        )\n        \n    }\n    \n}\n\nexport default ProductAdmin"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}