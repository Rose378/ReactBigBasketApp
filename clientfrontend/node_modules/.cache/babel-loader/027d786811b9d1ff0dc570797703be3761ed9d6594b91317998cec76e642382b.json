{"ast":null,"code":"import React,{Fragment}from\"react\";import axios from\"axios\";import toast from'react-hot-toast';import{Navigate}from\"react-router-dom\";import Navbar from\"../navbar/Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class CreateProduct extends React.Component{constructor(props){super(props);this.changeInput=event=>{this.setState({product:{...this.state.product,[event.target.name]:event.target.value}});};//image change convert to base 64 to save in server\nthis.changeImage=async event=>{let imageFile=event.target.files[0];let base64Image=await this.base64Image(imageFile);this.setState({product:{...this.state.product,image:base64Image}});};this.base64Image=imageFile=>{return new Promise((resolve,reject)=>{let reader=new FileReader();reader.readAsDataURL(imageFile);reader.addEventListener('load',()=>{if(reader.result){resolve(reader.result);}else{reject('error');}});});};//submit to server\nthis.submitProduct=event=>{event.preventDefault();let dataUrl=\"http://0.0.0.0:9000/api/products/\";axios.post(dataUrl,this.state.product).then(()=>{this.setState({isSubmitted:true});}).catch(err=>{this.setState({errmsg:toast.error('server connection refused')});console.error(err);});};this.state={product:{name:'',price:'',image:'',quantity:'',info:''},isSubmitted:false,errmsg:''};}render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h3 text-success\",children:\"Create Product\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add your products to the list so that we can deliver you the exact List of items\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-dark text-white m-3\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"New Product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body m-3\",children:this.state.isSubmitted?/*#__PURE__*/_jsx(Navigate,{to:\"/ProductAdmin\",replace:true,state:this.state.product}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.submitProduct,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Product Name\",name:\"name\",value:this.state.product.name,onChange:this.changeInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.changeImage,type:\"file\",className:\"custom-file-input form-control\",id:\"customFile\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-file-label form-label\",htmlFor:\"customFile\",children:\"Browse\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Price\",name:\"price\",value:this.state.product.price,onChange:this.changeInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Available quantity\",name:\"quantity\",value:this.state.product.quantity,onChange:this.changeInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:3,placeholder:\"general info\",onChange:this.changeInput,name:\"info\",value:this.state.product.info})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add to cart\",className:\" btn btn-success btn-sm\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"500px\"}})]})]})]});}}export default CreateProduct;","map":{"version":3,"names":["React","Fragment","axios","toast","Navigate","Navbar","jsx","_jsx","jsxs","_jsxs","CreateProduct","Component","constructor","props","changeInput","event","setState","product","state","target","name","value","changeImage","imageFile","files","base64Image","image","Promise","resolve","reject","reader","FileReader","readAsDataURL","addEventListener","result","submitProduct","preventDefault","dataUrl","post","then","isSubmitted","catch","err","errmsg","error","console","price","quantity","info","render","children","className","to","replace","onSubmit","type","placeholder","onChange","id","htmlFor","rows","style","marginBottom"],"sources":["/Users/suresh/Desktop/RoseMaryReactApps/ClientsideBIGBASKETapp/BigBasketReactApp/src/components/products/CreateProduct.js"],"sourcesContent":["import React,  { Fragment } from \"react\";\n import axios from \"axios\"\n import toast from 'react-hot-toast'\nimport { Navigate } from \"react-router-dom\";\n\nimport Navbar from \"../navbar/Navbar\";\nclass CreateProduct extends React.Component{\n    \n    constructor(props){\n        super(props)\n\n        this.state = {\n            product : {\n                name:'',\n                price:'',\n                image:'',\n                quantity:'',\n                info:''\n            },\n            isSubmitted:false,\n            errmsg:'',\n\n        }\n    }\n\n    changeInput = (event) => {\n        this.setState ( {\n            product : {\n                ...this.state.product,\n                [event.target.name] : event.target.value\n            }\n        })\n    }\n\n    //image change convert to base 64 to save in server\n    changeImage = async (event) => {\n        let imageFile = event.target.files[0];\n        let base64Image = await this.base64Image(imageFile)  ;\n        this.setState({\n            product:{\n                ...this.state.product,\n                image: base64Image\n            }\n        })\n    }\n\nbase64Image = (imageFile) => {\n    return new Promise((resolve,reject) => {\n        let reader = new FileReader();\n        reader.readAsDataURL(imageFile);\n        reader.addEventListener('load' , () => {\n            if(reader.result){\n                resolve(reader.result)\n            }\n            else {\n                reject('error')\n            }\n        })\n    })\n}\n\n\n//submit to server\nsubmitProduct = (event) => {\n    event.preventDefault();\n    let dataUrl = `http://0.0.0.0:9000/api/products/`\n    \n    axios.post(dataUrl , this.state.product).then(() => {\n    this.setState({\n        isSubmitted:true,\n\n    })\n    }).catch((err) => {\n        this.setState({\n            errmsg:toast.error('server connection refused')\n        })\n        console.error(err)\n    })\n    \n}\n \n    render(){\n\n        return(\n            <Fragment>\n                        <Navbar/>\n\n                <div className=\"container mt-4 \">\n                    <div className=\"row \">\n                        <div className=\"col\">\n                            <p className=\"h3 text-success\">Create Product</p>\n                            <p>Add your products to the list so that we can deliver you the exact List of items</p>\n                        </div>\n                    </div>\n                    <div className=\"row mt-3\">\n                        <div className=\"col-md-5\">\n                            <div className=\"card \">\n                                <div className=\"card-header bg-dark text-white m-3\">\n                                    <h4>New Product</h4>\n                                </div>\n                                <div className=\"card-body m-3\">\n                                    {\n                                        this.state.isSubmitted ? <Navigate to=\"/ProductAdmin\" replace={true} state={this.state.product} /> :\n                                        \n                                    \n                                    <form onSubmit={this.submitProduct}>\n                                        <div className=\"form-group\">\n                                            <input type=\"text\" className=\"form-control\" placeholder=\"Product Name\" \n                                            name=\"name\"\n                                            value={this.state.product.name}\n                                            onChange={this.changeInput}/>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <div className=\"custom-file\">\n                                                <input                                                 \n                                                 onChange={this.changeImage}\n                                                 type=\"file\"  className=\"custom-file-input form-control\" id=\"customFile\"/>\n                                                <label className=\"custom-file-label form-label\" htmlFor=\"customFile\">Browse</label>\n\n                                            </div>\n                                        \n                                        </div> \n                                        <div className=\"form-group\">\n                                            <input type=\"number\" className=\"form-control\" placeholder=\"Price\"\n                                            name=\"price\"\n                                            value={this.state.product.price}\n                                            onChange={this.changeInput}/>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <input type=\"number\" className=\"form-control\" placeholder=\"Available quantity\"\n                                             name=\"quantity\"\n                                             value={this.state.product.quantity}\n                                             onChange={this.changeInput}/>\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <textarea className=\"form-control\" rows={3} placeholder=\"general info\"\n                                             onChange={this.changeInput}\n                                             name=\"info\"\n                                             value={this.state.product.info}\n                                             ></textarea>\n                                        </div>\n                                        <div className=\"form-group\">\n        \n                                            <input type=\"submit\" value=\"Add to cart\" className=\" btn btn-success btn-sm\"/>\n                                         </div>\n\n                                    </form>\n    }\n                                </div>\n                            </div>\n                        </div>\n                        <div style={{marginBottom:\"500px\"}}></div>\n\n                    </div>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nexport default CreateProduct"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}